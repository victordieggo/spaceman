{"version":3,"file":"main.js","sources":["../resources/scripts/components/navbar.js","../resources/scripts/main.js"],"sourcesContent":["export default {\n  elements: {\n    navBar: document.querySelector('.navBar'),\n  },\n\n  init() {\n    if (!this.elements.navBar) return;\n    this.handleClick();\n    this.handleKeyup();\n  },\n\n  handleClick() {\n    document.addEventListener('click', (event) => {\n      const target = event.target;\n      const targetParent = target.parentNode;\n\n      if (target.classList.contains('navBar-toggle')) {\n        this.toggleNavbar();\n      }\n\n      if (targetParent.classList.contains('navBar-menuItem--hasChildren')) {\n        event.preventDefault();\n        this.toggleSubmenu(targetParent);\n        this.disableActiveItems(targetParent);\n        return;\n      }\n\n      if (window.innerWidth >= 840) {\n        this.disableActiveItems(this.elements.navBar);\n      }\n    });\n  },\n\n  handleKeyup() {\n    document.addEventListener('keyup', (event) => {\n      const key = event.key;\n      this.getActiveItems(this.elements.navBar).forEach((activeItem) => {\n        if (key == 'Escape' || key == 'Tab' && !activeItem.contains(event.target)) {\n          this.toggleSubmenu(activeItem);\n        }\n      });\n    });\n  },\n\n  toggleExpanded(element) {\n    const ariaExpanded = element.getAttribute('aria-expanded');\n    if (!ariaExpanded) return;\n    element.setAttribute('aria-expanded', ariaExpanded == 'false' ? 'true' : 'false');\n  },\n\n  getActiveItems(context) {\n    return context.querySelectorAll('.is-active');\n  },\n\n  disableActiveItems(element) {\n    this.getActiveItems(element.parentNode).forEach(activeItem => {\n      if (activeItem != element) {\n        this.toggleSubmenu(activeItem);\n      }\n    });\n  },\n\n  toggleNavbar() {\n    const navBar = this.elements.navBar;\n    if (navBar.classList.contains('is-animating')) return;\n\n    document.body.classList.toggle('navBar-disableScroll');\n    navBar.classList.add('is-animating');\n    navBar.classList.toggle('is-active');\n\n    const overlayClass = 'navBar-overlay';\n    const navOverlay = navBar.querySelector('.' + overlayClass);\n\n    ['webkitAnimationEnd', 'animationend'].map(animationEvent => {\n      navBar.addEventListener(animationEvent, () => navBar.classList.remove('is-animating'));\n      if (navOverlay) {\n        navOverlay.addEventListener(animationEvent, () => navBar.removeChild(navOverlay));\n      }\n    });\n\n    if (!navOverlay) {\n      const newOverlay = document.createElement('div');\n      newOverlay.className = `${overlayClass} navBar-toggle`;\n      newOverlay.onclick = () => { };\n      navBar.appendChild(newOverlay);\n    }\n\n    const triggers = document.querySelectorAll('.navBar-toggle');\n    triggers.forEach(trigger => this.toggleExpanded(trigger));\n  },\n\n  toggleSubmenu(element) {\n    element.classList.toggle('is-active');\n    this.toggleExpanded(element.firstElementChild);\n  }\n};\n","/* =====================================================================\n * Main\n * ===================================================================*/\n\nimport './../sass/main.scss';\nimport navbar from './components/navbar';\n\n(function () {\n  navbar.init();\n}());\n"],"names":["navbar","event","target","targetParent","key","activeItem","element","ariaExpanded","context","navBar","overlayClass","navOverlay","animationEvent","newOverlay","trigger"],"mappings":"AAAA,MAAeA,IAAA;AAAA,EACb,UAAU;AAAA,IACR,QAAQ,SAAS,cAAc,SAAS;AAAA,EACzC;AAAA,EAED,OAAO;AACL,IAAK,KAAK,SAAS,WACnB,KAAK,YAAW,GAChB,KAAK,YAAW;AAAA,EACjB;AAAA,EAED,cAAc;AACZ,aAAS,iBAAiB,SAAS,CAACC,MAAU;AAC5C,YAAMC,IAASD,EAAM,QACfE,IAAeD,EAAO;AAM5B,UAJIA,EAAO,UAAU,SAAS,eAAe,KAC3C,KAAK,aAAY,GAGfC,EAAa,UAAU,SAAS,8BAA8B,GAAG;AACnE,QAAAF,EAAM,eAAc,GACpB,KAAK,cAAcE,CAAY,GAC/B,KAAK,mBAAmBA,CAAY;AACpC;AAAA,MACD;AAED,MAAI,OAAO,cAAc,OACvB,KAAK,mBAAmB,KAAK,SAAS,MAAM;AAAA,IAEpD,CAAK;AAAA,EACF;AAAA,EAED,cAAc;AACZ,aAAS,iBAAiB,SAAS,CAACF,MAAU;AAC5C,YAAMG,IAAMH,EAAM;AAClB,WAAK,eAAe,KAAK,SAAS,MAAM,EAAE,QAAQ,CAACI,MAAe;AAChE,SAAID,KAAO,YAAYA,KAAO,SAAS,CAACC,EAAW,SAASJ,EAAM,MAAM,MACtE,KAAK,cAAcI,CAAU;AAAA,MAEvC,CAAO;AAAA,IACP,CAAK;AAAA,EACF;AAAA,EAED,eAAeC,GAAS;AACtB,UAAMC,IAAeD,EAAQ,aAAa,eAAe;AACzD,IAAKC,KACLD,EAAQ,aAAa,iBAAiBC,KAAgB,UAAU,SAAS,OAAO;AAAA,EACjF;AAAA,EAED,eAAeC,GAAS;AACtB,WAAOA,EAAQ,iBAAiB,YAAY;AAAA,EAC7C;AAAA,EAED,mBAAmBF,GAAS;AAC1B,SAAK,eAAeA,EAAQ,UAAU,EAAE,QAAQ,CAAAD,MAAc;AAC5D,MAAIA,KAAcC,KAChB,KAAK,cAAcD,CAAU;AAAA,IAErC,CAAK;AAAA,EACF;AAAA,EAED,eAAe;AACb,UAAMI,IAAS,KAAK,SAAS;AAC7B,QAAIA,EAAO,UAAU,SAAS,cAAc,EAAG;AAE/C,aAAS,KAAK,UAAU,OAAO,sBAAsB,GACrDA,EAAO,UAAU,IAAI,cAAc,GACnCA,EAAO,UAAU,OAAO,WAAW;AAEnC,UAAMC,IAAe,kBACfC,IAAaF,EAAO,cAAc,MAAMC,CAAY;AAS1D,QAPA,CAAC,sBAAsB,cAAc,EAAE,IAAI,CAAAE,MAAkB;AAC3D,MAAAH,EAAO,iBAAiBG,GAAgB,MAAMH,EAAO,UAAU,OAAO,cAAc,CAAC,GACjFE,KACFA,EAAW,iBAAiBC,GAAgB,MAAMH,EAAO,YAAYE,CAAU,CAAC;AAAA,IAExF,CAAK,GAEG,CAACA,GAAY;AACf,YAAME,IAAa,SAAS,cAAc,KAAK;AAC/C,MAAAA,EAAW,YAAY,GAAGH,CAAY,kBACtCG,EAAW,UAAU,MAAM;AAAA,SAC3BJ,EAAO,YAAYI,CAAU;AAAA,IAC9B;AAGD,IADiB,SAAS,iBAAiB,gBAAgB,EAClD,QAAQ,CAAAC,MAAW,KAAK,eAAeA,CAAO,CAAC;AAAA,EACzD;AAAA,EAED,cAAcR,GAAS;AACrB,IAAAA,EAAQ,UAAU,OAAO,WAAW,GACpC,KAAK,eAAeA,EAAQ,iBAAiB;AAAA,EAC9C;AACH;AAAA,CCxFC,WAAY;AACX,EAAAN,EAAO,KAAI;AACb,GAAG;"}